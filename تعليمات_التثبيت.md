# تعليمات تثبيت وتشغيل مشروع OmniMart

## المتطلبات الأساسية

قبل البدء، تأكد من تثبيت:
1. **PHP 8.1** أو أحدث
2. **Composer** (مدير حزم PHP)
3. **Node.js** و **npm** (للملفات الأمامية)
4. **قاعدة بيانات** (MySQL/MariaDB)

## خطوات التثبيت

### 1. تثبيت مكتبات PHP (Composer)

افتح Terminal في مجلد `core` وقم بتشغيل:

```bash
cd core
composer install
```

إذا كانت المكتبات مثبتة بالفعل، يمكنك استخدام:
```bash
composer update
```

### 2. تثبيت مكتبات JavaScript (npm)

في نفس مجلد `core`، قم بتشغيل:

```bash
npm install
```

### 3. إعداد ملف البيئة (.env)

قم بإنشاء ملف `.env` من `.env.example` (إذا كان موجوداً):

```bash
copy .env.example .env
```

أو أنشئ ملف `.env` يدوياً وأضف الإعدادات التالية:

```env
APP_NAME=OmniMart
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=omnimart
DB_USERNAME=root
DB_PASSWORD=

# ... باقي الإعدادات
```

### 4. إنشاء مفتاح التطبيق

```bash
php artisan key:generate
```

### 5. إعداد قاعدة البيانات

1. أنشئ قاعدة بيانات جديدة في MySQL
2. عدّل ملف `.env` بإضافة معلومات قاعدة البيانات:
   - `DB_DATABASE`: اسم قاعدة البيانات
   - `DB_USERNAME`: اسم المستخدم
   - `DB_PASSWORD`: كلمة المرور

### 6. تشغيل Migrations

```bash
php artisan migrate
```

إذا كنت تريد تشغيل Seeders أيضاً:
```bash
php artisan migrate --seed
```

### 7. إنشاء رابط التخزين

```bash
php artisan storage:link
```

### 8. تشغيل المشروع

#### للواجهة الأمامية (Frontend Assets):

في Terminal منفصل، قم بتشغيل:

```bash
cd core
npm run dev
```

#### للخادم (Server):

افتح Terminal آخر وقم بتشغيل:

```bash
cd core
php artisan serve
```

أو إذا كنت تستخدم XAMPP/WAMP، قم بإعداد Virtual Host يشير إلى مجلد المشروع.

## الوصول للمشروع

بعد تشغيل `php artisan serve`، افتح المتصفح على:
- **http://localhost:8000**

## ملاحظات مهمة

1. تأكد من أن مجلدات `storage` و `bootstrap/cache` قابلة للكتابة
2. إذا واجهت مشاكل في الصلاحيات، قم بتشغيل:
   ```bash
   chmod -R 775 storage bootstrap/cache
   ```
   (في Linux/Mac)

3. للمشاكل المتعلقة بـ Windows، تأكد من:
   - تثبيت PHP في PATH
   - تثبيت Composer بشكل صحيح
   - تثبيت Node.js و npm

## استكشاف الأخطاء

### خطأ: "Class not found"
```bash
composer dump-autoload
```

### خطأ: "Permission denied"
تأكد من صلاحيات مجلدات `storage` و `bootstrap/cache`

### خطأ: "Database connection"
تحقق من إعدادات قاعدة البيانات في ملف `.env`


